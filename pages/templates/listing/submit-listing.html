{% extends "listing/listing_base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block body_block%}

  <!-- Subheader Start -->
  <div class="subheader bg-cover bg-center dark-overlay" style="background-image: url('{% static 'img/property_backimg/banner-3.jpg' %}')">
    <div class="container">
      <div class="subheader-inner">
        <h1 class="text-white">Submit Listing</h1>
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'properties' %}"> <i class="fas fa-home"></i> </a></li>
            <li class="breadcrumb-item"><a href="#">Properties</a></li>
            <li class="breadcrumb-item active" aria-current="page">Submit Listing</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
  <!-- Subheader End -->

  <div class="section">
    <div class="container">
      <div class="row">

        <!-- Tabs Start -->
        <div class="col-md-4">
          <ul class="nav nav-tabs tab-cards" id="submitListingTab" role="tablist">
            <li class="nav-item">
              <a class="nav-link active" id="basic-info-tab" data-toggle="tab" href="#basic-info" role="tab" aria-controls="basic-info" aria-selected="true"> <span>01</span> Basic Information</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="gallery-tab" data-toggle="tab" href="#gallery" role="tab" aria-controls="gallery" aria-selected="false"><span>02</span> Gallery</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="location-tab" data-toggle="tab" href="#location" role="tab" aria-controls="location" aria-selected="false"><span>03</span> Location</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="features-tab" data-toggle="tab" href="#features" role="tab" aria-controls="features" aria-selected="false"><span>04</span> Features</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="details-tab" data-toggle="tab" href="#details" role="tab" aria-controls="details" aria-selected="false"><span>05</span> Details</a>
            </li>
          </ul>
        </div>
        <!-- Tabs End -->

        <!-- Tab Content Start -->
        <div class="col-md-8">
          <form method="post" action="{% url 'submit-listing' %}" enctype="multipart/form-data">
            <div class="tab-content m-0" id="submitListingTabContent">

              <!-- Basic Information Start -->
              <div class="tab-pane fade show active" id="basic-info" role="tabpanel" aria-labelledby="basic-info-tab">
                <div class="row">
                  
                  <div class="col-md-12 form-group">

                    {%csrf_token%}
                    {{basic_form | crispy}}

                  </div>
                  
                </div>

              </div>
              <!-- Basic Information End -->

              <!-- Gallery Start -->
              <div class="tab-pane fade" id="gallery" role="tabpanel" aria-labelledby="gallery-tab">
                <div class="form-group">

                  {%csrf_token%}
                  {{gallery_form | crispy}}
                  
                </div>
                
                  <span class="acr-form-notice">*You can upload up to 5 images for your listing</span>
                  <span class="acr-form-notice">*Listing images should be atleast 620x480 in dimensions for better customer experience</span>
              </div>
              <!-- Gallery End -->

              <!-- Location Start -->
              <div class="tab-pane fade" id="location" role="tabpanel" aria-labelledby="location-tab">

                <div class="form-group">

                  {%csrf_token%}
                  {{location_form | crispy}}
                  
                </div>
      
              </div>
              <!-- Location End -->

              <!-- Features Start -->
              <div class="tab-pane fade" id="features" role="tabpanel" aria-labelledby="features-tab">
                <div class="row">
                  
                  
                  <div class="col-lg-12 col-md-12 col-sm-12">
                    <!-- <label class="acr-listing-feature">
                      <input type="checkbox" name="feature2" value="">
                      <i class="acr-feature-check fas fa-check"></i>
                      <i class="acr-listing-feature-icon flaticon-chair"></i>
                      {%csrf_token%}
                      {{feature_form | crispy}}
                    </label> -->
                    {%csrf_token%}
                    {{feature_form | crispy}}

                  </div>
                  
                </div>
              </div>
              <!-- Features End -->

              <!-- Details Start -->
              <div class="tab-pane fade" id="details" role="tabpanel" aria-labelledby="details-tab">
                <div class="row">
                  <div class="col-md-12 form-group">
                    
                    {%csrf_token%}
                    {{detail_form | crispy}}

                  </div>
                </div>
                <div class="form-group">
                  <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" id="termsAndConditions">
                    <label class="custom-control-label" for="termsAndConditions">I Agree to the terms & Conditions of Property Submission</label>
                  </div>
                </div>
                <button type="submit" class="btn-custom" name="submit">Submit Listing</button>
              </div>
              <!-- Details End -->

            </div>
          </form>

        </div>
        <!-- Tab Content End -->

      </div>
    </div>
  </div>

{% endblock %}